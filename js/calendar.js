function b(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function c(a){return function(){var c=this,d=arguments;return new Promise(function(f,g){var h=a.apply(c,d);function e(a){b(h,f,g,e,i,"next",a)}function i(a){b(h,f,g,e,i,"throw",a)}e(void 0)})}}const d=["January","February","March","April","May","June","July","August","September","October","November","December"],e=["Mo","Tu","We","Th","Fr","Sa","Su"];function f(){return g.apply(this,arguments)}function g(){return(g=c(function*(){return yield(yield fetch("/misc/all-events.json")).json()})).apply(this,arguments)}function h(a){return new Date(a,0)}function i(g){if(isNaN(Number(g)))return;let a=h(g),m=$("#calendar-grid");for(m.innerHTML="";a.getFullYear()==Number(g);){let f=new ElementSoup("div");f.class("calendar").child(new ElementSoup("div").class("month-label").child(new ElementSoup("span").text(d[a.getMonth()])));let n=new ElementSoup("div").class("days-label");for(let s of e)n.child(new ElementSoup("span").text(s));f.child(n);let i=0,k=!1,t=1,u=a.getMonth(),l=new ElementSoup("div").class("date-grid"),b=new ElementSoup("div").class("week").data("week",i);for(;a.setDate(t++)&&a.getMonth()==u;){if(0==i&& !1==k){let c=a.getDay();(c=(c-1)%7)<0&&(c=7-Math.abs(c));let o=c;if(o>0)for(let p=0;p<o;p++){let v=new ElementSoup("div").class("empty-date-fill");b.child(v)}}k=!0;let q=this.getEventsOn(a),r=new ElementSoup("div").class("date").data("intensity",q.length).child(new ElementSoup("span").text(a.getDate()));r._e.addEventListener("click",j.bind(window,q)),b.child(r),0==a.getDay()&&(l.child(b),b=new ElementSoup("div").class("week").data("week",++i),k=!1)}l.child(b),f.child(l),m.appendChild(f.export())}}function j(c,d){let b=$("#entries");for(let a of(b.innerHTML="",c))b.appendChild(new ElementSoup("li").child(new ElementSoup("a").attribute("href",a.hyperlink).text(a.name)).child(new ElementSoup("span").text(a.location).html(a.misc)).export())}function k(d){let{Component:e,Property:a}=window["immutable-ics"],f=[];for(let b of this.events){if(new Date(1e3*b.date[0]).getFullYear()!=d)continue;let g=new e({name:"VEVENT",properties:[new a({name:"UID",value:Date.now()+"@"+Math.random()}),new a({name:"DTSTAMP",value:new Date}),new a({name:"DTSTART",value:new Date(1e3*b.date[0])}),new a({name:"DTEND",value:new Date(1e3*b.date[1])}),new a({name:"LOCATION",value:b.location}),new a({name:"SUMMARY",value:b.name}),new a({name:"URL",value:b.hyperlink})]});f.push(g)}let h=new e({components:f,name:"VCALENDAR",properties:[new a({name:"VERSION",value:2}),new a({name:"PRODID",value:"DCA"}),]}),i=new Blob([h.toString()],{type:"text/calendar"}),c=document.createElement("a");c.href=URL.createObjectURL(i),c.download=`developer-conference-${d}.ics`,c.click()}class a{render(a){i.call(this,a),$("#downloadButton").onclick=k.bind(this,a)}getEventsOn(d){let b=[],c=Math.floor(d.getTime()/1e3);for(let a of this.events)a.date[0]<=c&&c<=a.date[1]&&b.push(a);return b}constructor(){this.events=[],f().then(a=>{this.events=this.events.concat(a),"function"==typeof this.onready&&this.onready()})}}window.renderer=new a